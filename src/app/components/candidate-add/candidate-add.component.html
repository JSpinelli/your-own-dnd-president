<div class="row">
    <div class="col-xs-12">
        <form (ngSubmit)="onSubmit()" [formGroup]="candidateForm">
            <div class="form-group" formGroupName="candidateInfo">
                <div class="row">
                    <div class="col-xs-3" >
                        <img [src]="imagePath.value ? imagePath.value : defaultImage" 
                        alt="Image for condidate {{name}}" class="img-responsive img-thumbnail" style="max-height: 300px;">
                    </div>
                    <div class="col-xs-9">
                        <label for="name">Candidate Name</label>
                        <input type="text" id="name" class="form-control" formControlName="name">
                        <label for="desc">Description</label>
                        <textarea type="text" id="desc" class="form-control" formControlName="desc" rows="6"></textarea>
                        <label for="desc">Image Path</label>
                        <input type="text" id="img" class="form-control" formControlName="img" #imagePath>
                    </div>
                </div>
            </div>
            <div class="row">
                    <div class="col-xs-12" formArrayName="ingredients">
                        <label for="name">Ingredients</label>
                        <button type="button" class="btn btn-default" (click)="addIngredient()">+</button>
                        <div *ngFor="let ingredientCtrl of getControls();let i=index;" [formGroupName]="i">
                            <div class="col-xs-4">
                                <input 
                                type="text"
                                class="form-control"
                                formControlName="name">
                            </div>
                            <div class="col-xs-1">
                                    <input 
                                    type="number"
                                    class="form-control"
                                    formControlName="amount">
                            </div>
                            <div class="col-xs-2">
                                <button  type="button" class="btn btn-danger" (click)="deleteIngredient(i)">X</button>
                            </div>
                            <div class="col-xs-2">
                                <button  type="button" class="btn btn-blue" (click)="showDescField[i]=!showDescField[i]">{{showDescField[i] ? 'Hide Description' : 'Show Description'}}</button>
                            </div>
                            <div class="col-xs-10" *ngIf="showDescField[i]">
                                <textarea type="text" id="desc" class="form-control" rows="2" formControlName="desc"></textarea>
                            </div>
                        </div>
                    </div>
            </div>
            <div class="form-group">
                <div class="col-xs-12">
                    <div class="btn-toolbar">
                        <button type="submit" class="btn btn-default" [disabled]="!candidateForm.valid">/Submit</button>
                        <button type="button" class="btn btn-danger" [routerLink]="['/']">Cancel</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>